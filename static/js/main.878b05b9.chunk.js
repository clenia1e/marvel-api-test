(this["webpackJsonpmarvel-api-teste"]=this["webpackJsonpmarvel-api-teste"]||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(23),s=a.n(r),i=(a(30),a(11)),o=a(2),l=(a(31),a(3)),u=a.n(l),j=a(6),d=a(4),h=(a(33),a(12)),v=(a(34),a(35),a(0)),b=function(e){var t=e.isFavorite,a=e.isSize,c=e.setFavorite;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("button",{"data-testid":"character-favorite",className:"favorite-button-hero",onClick:c,children:Object(v.jsx)("img",{"data-testid":"icon-favorite",className:a?"favorite-hero-button":"favorite-button-detail",src:t?"favorito_01.svg":"favorito_02.svg",alt:"\xedcone de favorito do her\xf3i"})})})},m=(a(37),function(e){var t=e.isRating;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container-rating",children:[Object(v.jsx)("h3",{className:"hero-rating",children:"Rating:"}),Object(v.jsx)("img",{className:"rating",src:t?"/avaliacao_on.svg":"/avaliacao_off.svg",alt:"\xedcone de avalia\xe7\xe3o do her\xf3i"}),Object(v.jsx)("img",{className:"rating",src:t?"/avaliacao_on.svg":"/avaliacao_off.svg",alt:"\xedcone de avalia\xe7\xe3o do her\xf3i"}),Object(v.jsx)("img",{className:"rating",src:t?"/avaliacao_on.svg":"/avaliacao_off.svg",alt:"\xedcone de avalia\xe7\xe3o do her\xf3i"}),Object(v.jsx)("img",{className:"rating",src:t?"/avaliacao_on.svg":"/avaliacao_off.svg",alt:"\xedcone de avalia\xe7\xe3o do her\xf3i"}),Object(v.jsx)("img",{className:"rating",src:t?"/avaliacao_on.svg":"/avaliacao_off.svg",alt:"\xedcone de avalia\xe7\xe3o do her\xf3i"})]})})}),f=function(e){var t,a,n=e.character,r=localStorage.getItem("favorites")||"[]",s=JSON.parse(r),i=Object(c.useState)(s),o=Object(d.a)(i,2),l=o[0],u=o[1],j=function(e){localStorage.setItem("favorites",JSON.stringify(e)),u(Object(h.a)(e))},f=function(e){var t=localStorage.getItem("favorites"),a=JSON.parse(t);return!!(a&&a.length>0)&&a.find((function(t){return t.id===e}))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container-detail",children:[Object(v.jsxs)("div",{className:"container-resume-hero",children:[Object(v.jsxs)("div",{className:"container-title",children:[Object(v.jsxs)("h3",{className:"hero-name-detail",children:[" ",n.name]}),Object(v.jsx)(b,{isSize:!1,setFavorite:function(){return function(e){if(f(e.id)){var t=l.filter((function(t){return t.id!==e.id}));j(t)}else l.length>4?alert("somente 5 favoritos podem ser adicionados"):l.length<1?j([e]):j([].concat(Object(h.a)(l),[e]))}(n)},isFavorite:f(n.id)})]}),Object(v.jsxs)("p",{className:"hero-resume",children:[" ",n.description]}),Object(v.jsxs)("div",{className:"cantainer-hero-detail",children:[Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("h3",{className:"hero-detail",children:"Quadrinhos"}),Object(v.jsxs)("div",{className:"icon-value",children:[Object(v.jsx)("img",{className:"detail-icon",src:"ic_quadrinhos.svg",alt:"logo menor Marvel"}),Object(v.jsx)("h2",{className:"value",children:null===n||void 0===n||null===(t=n.comics)||void 0===t?void 0:t.available})]})]}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("h3",{className:"hero-detail",children:"Filmes"}),Object(v.jsxs)("div",{className:"icon-value",children:[Object(v.jsx)("img",{className:"detail-icon-movie",src:"ic_trailer.svg",alt:"logo menor Marvel"}),Object(v.jsx)("h2",{className:"value",children:null===n||void 0===n||null===(a=n.series)||void 0===a?void 0:a.available})]})]})]}),Object(v.jsx)("div",{className:"container-rating",children:Object(v.jsx)(m,{isRating:!0})}),Object(v.jsxs)("div",{className:"container-last-publication",children:[Object(v.jsx)("h3",{className:"hero-detail",children:"\xdaltimo quadrinho:"}),Object(v.jsx)("div",{className:"last-publication",children:new Date(n.modified).toLocaleDateString()})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:"hero-img",src:"".concat(n.thumbnail.path,".").concat(n.thumbnail.extension),alt:"hulk"})})]})})},O=(a(38),a(39),function(){return Object(v.jsxs)("div",{className:"container-loader",children:[" ",Object(v.jsx)("div",{className:"loader"})]})}),g={apikey:"85c938e986d6ba636c61d7d96ad822f6",hash:"774390d2b602757b05a1128aaf0e39e0",ts:"1635170467574"},x={apikey:g.apikey},p=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,(c=new URL("https://gateway.marvel.com:443/v1/public/characters/".concat(a,"/comics"))).search=new URLSearchParams(x).toString(),e.next=5,fetch(c);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=p,S=function(e){var t=e.id,a=Object(c.useState)([]),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(!0),o=Object(d.a)(i,2),l=o[0],h=o[1];Object(c.useEffect)((function(){var e=!0,t=function(){var t=Object(j.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:a=t.sent,e&&(s(a),h(!1));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[]);var b=function(){var e=Object(j.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({id:t});case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=r.filter((function(e,t){return t<10}));return l?Object(v.jsx)(O,{}):Object(v.jsxs)("div",{className:"container-releases",children:[Object(v.jsx)("p",{className:"title-release",children:"\xdaltimos lan\xe7amentos"}),Object(v.jsx)("div",{className:"characters-releases",children:m.map((function(e){return Object(v.jsxs)("div",{className:"releases",children:[Object(v.jsx)("img",{className:"img-releases",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:"\xedcone de navegacao"}),Object(v.jsx)("h4",{className:"releases-name",children:e.title})]},e.id)}))})]},t)},F=a(24),w=a.n(F),y=(a(40),function(e){var t=e.type,a=e.getCharacter,n=e.defaultValue,r=Object(c.useCallback)(w()((function(e){a(e)}),1500),[]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"container-search",children:Object(v.jsxs)("div",{className:"container-wrapper",children:[Object(v.jsx)("div",{className:"container-icon",children:Object(v.jsx)("img",{src:"ic_busca_menor.svg",alt:"\xedcone de navegacao"})}),Object(v.jsx)("input",{"data-testid":"search-input",className:"home"==t?"container-searchbar--red":"container-searchbar",defaultValue:n,placeholder:"Procure por her\xf3is",onChange:function(e){return function(e){r(e.target.value)}(e)}})]})})})}),C=(a(41),function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"footer"})})}),k=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,(c=new URL("https://gateway.marvel.com:443/v1/public/characters/".concat(a))).search=new URLSearchParams(x).toString(),e.next=5,fetch(c);case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=k,L=function(){var e=Object(o.g)(),t=Object(o.f)(),a=Object(c.useState)(),n=Object(d.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(!0),h=Object(d.a)(l,2),b=h[0],m=h[1];Object(c.useEffect)((function(){g()}),[]);var g=function(){var t=Object(j.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_({id:null===e||void 0===e||null===(a=e.state)||void 0===a?void 0:a.id});case 2:c=t.sent,s(null===c||void 0===c?void 0:c.results[0]),m(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return b?Object(v.jsx)(O,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"character-page",children:[Object(v.jsxs)("header",{className:"container-info-hero",children:[Object(v.jsx)(i.b,{to:"/",children:Object(v.jsx)("img",{className:"logo-small",src:"logo_menor.svg",alt:"logo menor Marvel"})}),Object(v.jsx)(y,{className:"search-hero",getCharacter:function(e){t.push("/",{searchName:e})}})]}),Object(v.jsx)(f,{setcharacter:s,character:r}),Object(v.jsx)(S,{id:r.id})]}),Object(v.jsx)(C,{})]})},I=(a(46),function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"".concat(e.className," container-header"),children:[Object(v.jsx)("div",{className:"container-logo",children:Object(v.jsx)("img",{className:"img-logo",src:"logo.svg",alt:"\xedcone da Marvel"})}),Object(v.jsx)("h2",{className:"main-text",children:"EXPLORE O UNIVERSO"}),Object(v.jsx)("p",{className:"secundary-text",children:"Mergulhe no dom\xednio deslumbrante de todos os personagens cl\xe1ssicos que voc\xea ama - e aqueles que voc\xea descobrir\xe1 em breve!"})]})})}),R=(a(47),a(48),function(e){var t=e.isActive,a=e.handleClick;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{role:"presentation","data-testid":"toggle-asc",onClick:function(){return a(!t)},className:"img-toggle",src:t?"toggle_on.svg":"toggle_off.svg",alt:"\xedcone de sele\xe7\xe3o"})})}),A=function(e){var t=e.isAsc,a=e.setIsAsc,c=e.setIsOnlyFavorites,n=e.isOnlyFavorites,r=e.charactersLength;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container-info",children:[Object(v.jsxs)("div",{className:"info-length",children:["Encontrados ",r," her\xf3is"]}),Object(v.jsxs)("div",{className:"info-buttons",children:[Object(v.jsxs)("div",{className:"order-button",children:[Object(v.jsx)("img",{className:"img-hero",src:"ic_heroi.svg",alt:"\xedcone de navegacao"}),"Ordenar por nome - A/Z"]}),Object(v.jsx)(R,{isActive:t,handleClick:function(){return a(!t)}}),Object(v.jsx)("div",{className:"favorite-button",children:Object(v.jsxs)("button",{className:"button-favorite","data-testid":"toggle-favorite",onClick:c,children:[Object(v.jsx)("img",{className:"img-favorite",src:"favorito_01.svg",alt:"\xedcone de navegacao"}),n?"mostrar todos":"Somente favoritos"]})})]})]})})},P=(a(49),function(e){var t=e.isloading,a=e.characters,c=e.isOnlyFavorites,n=e.setCharacterFavorite,r=e.isCharacterFavorite,s=e.localFavorites,i=Object(o.f)();if(t)return Object(v.jsx)(O,{});var l=c?s:a;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"characters",children:l.map((function(e){return Object(v.jsxs)("div",{className:"character-row",children:[Object(v.jsx)("div",{role:"presentation",onClick:function(){return i.push("/character/".concat(e.id),{id:e.id})},className:"character-router",children:Object(v.jsx)("img",{className:"img-characters",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:"Imagem do her\xf3i"})}),Object(v.jsxs)("div",{className:"characters-info",children:[Object(v.jsx)("h4",{className:"hero-name",children:e.name}),Object(v.jsx)(b,{isSize:!0,isFavorite:r(e.id),setFavorite:function(){return n(e)}})]})]},e.id)}))})})}),E=(a(50),function(e){var t=e.length,a=e.pageLimit,n=e.dataLimit,r=e.onPageChange,s=Math.round(t/n),i=Object(c.useState)(1),o=Object(d.a)(i,2),l=o[0],u=o[1];function j(e){var t=Number(e.target.textContent);u(t),r(t)}return Object(v.jsxs)("div",{className:"pagination",children:[Object(v.jsx)("button",{onClick:function(){u((function(e){return e-1})),r((function(e){return e-1}))},className:"prev ".concat(1===l?"disabled":""),children:"prev"}),function(){var e=Math.floor((l-1)/a)*a;return new Array(a).fill().map((function(t,a){return e+a+1}))}().map((function(e,t){return e>s?null:Object(v.jsx)("button",{"data-testid":"pagination-button",onClick:j,className:"paginationItem ".concat(l===e?"active":null),children:Object(v.jsx)("span",{children:e})},t)})),Object(v.jsx)("button",{onClick:function(){u(l+1),r(l+1)},"data-testid":"pagination-next",className:"next ".concat(l===s?"disabled":""),children:"next"})]})}),M=a(15),J=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,n,r,s,i,o,l,j,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,c=t.searchName,n=t.isAsc,r=t.page,s=new URL("https://gateway.marvel.com:443/v1/public/characters"),i=Object(M.a)(Object(M.a)({},x),{},{orderBy:"".concat(n?"":"-","name"),offset:r?20*(r-1):0}),l=(o=a||c)?Object(M.a)(Object(M.a)({},i),{},{nameStartsWith:o}):i,s.search=new URLSearchParams(l).toString(),e.next=8,fetch(s);case 8:return j=e.sent,e.next=11,j.json();case 11:return d=e.sent,e.abrupt("return",null===d||void 0===d?void 0:d.data);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=J,q=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(d.a)(r,2),i=s[0],l=s[1],b=Object(c.useState)([]),m=Object(d.a)(b,2),f=m[0],O=m[1],g=Object(c.useState)(!0),x=Object(d.a)(g,2),p=x[0],N=x[1],S=Object(c.useState)(null),F=Object(d.a)(S,2),w=F[0],k=F[1],_=Object(c.useState)(0),L=Object(d.a)(_,2),R=L[0],M=L[1],J=Object(c.useState)(null),q=Object(d.a)(J,2),V=q[0],z=q[1],B=localStorage.getItem("favorites")||"[]",D=JSON.parse(B),T=Object(o.g)().state,Q=null===T||void 0===T?void 0:T.searchName,W=Object(o.f)(),X=Object(c.useState)(D),Z=Object(d.a)(X,2),G=Z[0],H=Z[1],K=function(e){localStorage.setItem("favorites",JSON.stringify(e)),H(Object(h.a)(e))},Y=function(e){return G.length>0&&G.find((function(t){return t.id===e}))};Object(c.useEffect)((function(){return $(),function(){return W.replace({})}}),[p,Q,w,a]);var $=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,U({name:w,searchName:Q,isAsc:p,page:a});case 3:t=e.sent,M(null===t||void 0===t?void 0:t.total),O(null===t||void 0===t?void 0:t.results),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I,{className:"header-root"}),Object(v.jsx)(y,{type:"home",setName:function(e){k(e),n(0),W.replace({})},value:w,getCharacter:k,defaultValue:Q}),Object(v.jsx)(A,{setIsAsc:N,isAsc:p,isOnlyFavorites:V,setIsOnlyFavorites:function(){return z(!V)},charactersLength:V?G.length:f.length}),Object(v.jsx)(P,{setPage:n,page:a,isloading:i,characters:f,isOnlyFavorites:V,setCharacterFavorite:function(e){if(Y(e.id)){var t=G.filter((function(t){return t.id!==e.id}));K(t)}else{if(G.length>4)alert("somente 5 favoritos podem ser adicionados");else if(G.length<1)K([e]);else K([].concat(Object(h.a)(G),[e]))}},isCharacterFavorite:Y,localFavorites:G}),!V&&Object(v.jsx)(E,{dataLimit:20,length:R,pageLimit:3,onPageChange:n}),Object(v.jsx)(C,{})]})};var V=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"root",children:Object(v.jsx)(i.a,{children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/character",children:Object(v.jsx)(L,{})}),Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(q,{})})]})})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(V,{})}),document.getElementById("root")),z()}},[[51,1,2]]]);
//# sourceMappingURL=main.878b05b9.chunk.js.map